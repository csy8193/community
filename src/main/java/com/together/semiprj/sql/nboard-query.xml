<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>
	<entry key="count-all-nboard-list">
		SELECT COUNT(*) FROM BOARD
		WHERE BOARD_CD = ?
		AND STATUS_CD = 1
	</entry>
	<entry key="selectBoardList">
		SELECT CC.*, (SELECT COUNT(*) FROM "LIKE"  D WHERE D.BOARD_NO = CC.BOARD_NO) LIKECOUNT ,
		(SELECT COUNT(*) FROM REPLY  E WHERE E.BOARD_NO = CC.BOARD_NO) REPLYCOUNT,
		(SELECT COUNT(*) FROM "LIKE"  F WHERE F.BOARD_NO = CC.BOARD_NO 
		AND F.MEMBER_NO = ?) LIKEDONE
       FROM  (SELECT BB.*
            FROM(
            SELECT ROWNUM RNUM, AA.*
          FROM ( SELECT  A.BOARD_NO , A.BOARD_TITLE, A.BOARD_CONTENT, A.READ_COUNT , A.BOARD_CD,
         TO_CHAR( A.CREATE_DT, 'YYYY"." MM"." DD"" HH24":" MI":" SS""') CREATE_DT,
         A.STATUS_CD, A.MEMBER_NO
          , B.BOARD_NAME , C.MEMBER_ID FROM BOARD A
            JOIN BOARD_CODE  B ON (A.BOARD_CD = B.BOARD_CD)
            JOIN MEMBER  C ON (A.MEMBER_NO = C.MEMBER_NO)
		    WHERE A.STATUS_CD != 2 AND A.BOARD_CD = ?
            ORDER BY BOARD_NO DESC) AA) BB
            WHERE RNUM BETWEEN ? AND ?) CC
	</entry>
	<entry key="selectBoardView">
		SELECT CC.* ,
		(SELECT COUNT(*) FROM "LIKE"  D WHERE D.BOARD_NO = CC.BOARD_NO) LIKECOUNT ,
		(SELECT COUNT(*) FROM REPLY  E WHERE E.BOARD_NO = CC.BOARD_NO) REPLYCOUNT ,
		(SELECT COUNT(*) FROM "LIKE"  F WHERE F.BOARD_NO = CC.BOARD_NO 
		AND F.MEMBER_NO = ?) LIKEDONE 
		FROM (
		 SELECT  A.BOARD_NO , A.BOARD_TITLE, A.BOARD_CONTENT, A.READ_COUNT , A.BOARD_CD,
         TO_CHAR( A.CREATE_DT, 'YYYY"." MM"." DD"" HH24":" MI":" SS""') CREATE_DT,
         A.STATUS_CD, A.MEMBER_NO
          , B.BOARD_NAME , C.MEMBER_ID FROM BOARD A
            JOIN BOARD_CODE  B ON (A.BOARD_CD = B.BOARD_CD)
            JOIN MEMBER  C ON (A.MEMBER_NO = C.MEMBER_NO)
		    WHERE A.STATUS_CD != 2 AND A.BOARD_NO = ?) CC
	</entry>
	<entry key="readCountPlus">
		UPDATE BOARD 
		SET READ_COUNT = READ_COUNT + 1
		WHERE BOARD_NO = ?
	</entry>
</properties>