<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>
	<entry key="selectReplyList">
		SELECT R.REPLY_NO, R.REPLY_CONTENT,
		 CASE WHEN TO_DATE(TO_CHAR(SYSDATE, 'YYYY-MM-DD')) - TO_DATE(TO_CHAR(REPLY_CREATE_DT, 'YYYY-MM-DD')) = 0
            THEN TO_CHAR( REPLY_CREATE_DT, 'HH24:MI' )
            ELSE TO_CHAR( REPLY_CREATE_DT, 'YYYY-MM-DD' )
        END AS REPLY_CREATE_DT,
		R.BOARD_NO, M.MEMBER_NO, M.MEMBER_NM,
		S.STATUS_CD, S.STATUS_NM
		FROM REPLY R
		JOIN MEMBER M ON(M.MEMBER_NO = R.MEMBER_NO)
		JOIN STATUS S ON(R.STATUS_CD = S.STATUS_CD)
		WHERE R.STATUS_CD != 2
		AND R.BOARD_NO = ?
		ORDER BY REPLY_NO DESC
	</entry>
	
	<entry key="insertReply">
		INSERT INTO REPLY(REPLY_NO, REPLY_CONTENT, BOARD_NO, MEMBER_NO)
		VALUES(SEQ_REPLY_NO.NEXTVAL, ?, ?, ?)
	</entry>
	
	<entry key="updateReply">
		UPDATE REPLY SET
		REPLY_CONTENT = ?
		WHERE REPLY_NO = ?
	</entry>
	
	<entry key="deleteReply">
		UPDATE REPLY SET 
		STATUS_CD = 2
      	WHERE REPLY_NO = ?
	</entry>
</properties>